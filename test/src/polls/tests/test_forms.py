import pytest
from mixer.backend.django import mixer
pytestmark = pytest.mark.django_db
from .. import forms
# from django.core.urlresolvers import reverse


class TestPollForm:
	def test_polltopicaddform(self):

		form = forms.PollTopicAddForm(data={})
		assert form.is_valid() is False, 'Should be invalid if not data provided'

		form = forms.PollTopicAddForm(data={'title':'123456789'})
		assert form.is_valid() is False, 'Should be invalid if too short'
		assert 'title' in form.errors, 'should have title field error'

		form = forms.PollTopicAddForm(data={'title':'123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong '})
		assert form.is_valid() is False, 'Should be invalid if too long'
		assert 'title' in form.errors, 'should have title field error'

		form = forms.PollTopicAddForm(data={'description':'123456789123456789'})
		assert form.is_valid() is False, 'Should be invalid if too short'
		assert 'description' in form.errors, 'should have description field error'

		form = forms.PollTopicAddForm(data={'description':'123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong '})
		assert form.is_valid() is False, 'Should be invalid if too long'
		assert 'description' in form.errors, 'should have description field error'


	def test_polltopiceditform(self):

		form = forms.PollTopicEditForm(data={})
		assert form.is_valid() is False, 'Should be invalid if not data provided'

		form = forms.PollTopicEditForm(data={'title':'123456789'})
		assert form.is_valid() is False, 'Should be invalid if too short'
		assert 'title' in form.errors, 'should have title field error'

		form = forms.PollTopicEditForm(data={'title':'123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong '})
		assert form.is_valid() is False, 'Should be invalid if too long'
		assert 'title' in form.errors, 'should have title field error'

		form = forms.PollTopicEditForm(data={'description':'123456789123456789'})
		assert form.is_valid() is False, 'Should be invalid if too short'
		assert 'description' in form.errors, 'should have description field error'

		form = forms.PollTopicEditForm(data={'description':'123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong '})
		assert form.is_valid() is False, 'Should be invalid if too long'
		assert 'description' in form.errors, 'should have description field error'







	def test_polltopicaddform(self):

		form = forms.PollItemAddForm(data={})
		assert form.is_valid() is False, 'Should be invalid if not data provided'

		form = forms.PollItemAddForm(data={'title':'123456789'})
		assert form.is_valid() is False, 'Should be invalid if too short'
		assert 'title' in form.errors, 'should have title field error'

		form = forms.PollItemAddForm(data={'title':'123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong '})
		assert form.is_valid() is False, 'Should be invalid if too long'
		assert 'title' in form.errors, 'should have title field error'

		form = forms.PollItemAddForm(data={'description':'123456789123456789'})
		assert form.is_valid() is False, 'Should be invalid if too short'
		assert 'description' in form.errors, 'should have description field error'

		form = forms.PollItemAddForm(data={'description':'123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong '})
		assert form.is_valid() is False, 'Should be invalid if too long'
		assert 'description' in form.errors, 'should have description field error'


	def test_polltopiceditform(self):

		form = forms.PollItemEditForm(data={})
		assert form.is_valid() is False, 'Should be invalid if not data provided'

		form = forms.PollItemEditForm(data={'title':'123456789'})
		assert form.is_valid() is False, 'Should be invalid if too short'
		assert 'title' in form.errors, 'should have title field error'

		form = forms.PollItemEditForm(data={'title':'123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong '})
		assert form.is_valid() is False, 'Should be invalid if too long'
		assert 'title' in form.errors, 'should have title field error'

		form = forms.PollItemEditForm(data={'description':'123456789123456789'})
		assert form.is_valid() is False, 'Should be invalid if too short'
		assert 'description' in form.errors, 'should have description field error'

		form = forms.PollItemEditForm(data={'description':'123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong 123456789toolong '})
		assert form.is_valid() is False, 'Should be invalid if too long'
		assert 'description' in form.errors, 'should have description field error'


